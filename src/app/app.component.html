<main>

  <div class="p-4 w-full">
    <input [(ngModel)]="searchQuery" (keydown)="searchProducts()"
      class="shadow appearance-none border w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none rounded-lg focus:shadow-outline"
      id="searchProduct" type="text" placeholder="Search Product">
  </div>

  <div class="p-4 w-full flex justify-center gap-x-4">
    <nav aria-label="Page navigation example">
      <ul class="inline-flex -space-x-px text-sm">
        <li>
          <button (click)="goToPreviousPage()"
            class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Previous</button>
        </li>
        <li *ngFor="let page of getPaginationArray()">
          <button (click)="selectPageNumber(page)"
            class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">{{
            page }}</button>
        </li>
        <li>
          <button [disabled]="hideNext" (click)="goToNextPage()"
            class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Next</button>
        </li>
      </ul>
    </nav>
    <div><select id="pageitems"
        class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        [(ngModel)]="selectedItem" (change)="setPagePerLimit()">
        <option *ngFor="let item of pagePerItems" [value]="item">{{ item }}</option>
      </select></div>
    <div>
    </div>
  </div>

  <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-6 py-3">Sr. No</th>
          <th scope="col" class="px-16 py-3">
            Image
          </th>
          <th scope="col" class="px-6 py-3">title</th>
          <th scope="col" class="px-6 py-3">price</th>
          <th scope="col" class="px-6 py-3">discountPercentage</th>
          <th scope="col" class="px-6 py-3">rating</th>
          <th scope="col" class="px-6 py-3">stock</th>
          <th scope="col" class="px-6 py-3">brand</th>
          <th scope="col" class="px-6 py-3">category</th>
          <th scope="col" class="px-6 py-3">description</th>
        </tr>
      </thead>

      <ng-container *ngFor="let item of getAllProductsList;let index = index;">
        <tbody>
          <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{index + 1}}
            </td>
            <td class="p-4">
              <img [src]="item?.thumbnail" class="w-16 md:w-32 max-w-full max-h-full">
            </td>

            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.title}}
            </td>

            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.price | currency:'USD'}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.discountPercentage | percent}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.rating}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.stock}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.brand}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.category}}
            </td>
            <td class="px-6 py-4 font-semibold text-gray-900 dark:text-white">
              {{item?.description}}
            </td>
          </tr>
        </tbody>
      </ng-container>
      <ng-container *ngIf="getAllProductsList.length === 0">
        <div class="text-xs text-gray-700 uppercase">item not found</div>
      </ng-container>
    </table>
  </div>

</main>